<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Have A Worry — Matrix Skin</title>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Orbitron:wght@400;600&family=Share+Tech+Mono&display=swap" rel="stylesheet">

<style>
  :root{
    --radius:14px;

    /* Neon palette for outlines & text */
    --neon:#00FF41;         /* default green */
    --neon-cyan:#00F5FF;    /* Mythic */
    --neon-yellow:#F8FF00;  /* Legendary */
    --neon-purple:#BB00FF;  /* Epic */
    --neon-blue:#00B3FF;    /* Rare */
  }

  html,body{height:100%}
  body{
    margin:0; min-height:100vh;
    background:
      radial-gradient(1200px 600px at 50% 0%, rgba(0,255,65,.07), transparent 60%),
      repeating-linear-gradient(to bottom, rgba(0,255,65,.04) 0px, rgba(0,255,65,.04) 2px, transparent 3px, transparent 6px),
      #000;
    color:#00FF41;
    font-family:"Share Tech Mono", ui-monospace, monospace;
    letter-spacing:.2px;
  }

  .haw-wrap{max-width:1400px;margin:1rem auto;padding:.5rem}

  /* ---------- Header & CTAs ---------- */
  .haw-header{
    position:relative; /* lets us place corner CTAs */
    text-align:center;
    margin-bottom:1rem;
    padding: 2.75rem 1rem 1.25rem; /* top padding gives room for corner buttons */
  }
  .haw-head{
    font-family:"Pacifico", "Orbitron", "Share Tech Mono", monospace;
    font-weight:400;
    font-size:clamp(3.0rem, 4.375vw + 1.25rem, 5.625rem);
    margin:.25rem 0;
    letter-spacing:.06em;
    white-space:nowrap;
    text-shadow:0 0 14px rgba(0,255,65,.35);
  }
  .haw-sub{
    max-width:68ch;margin:.35rem auto 1.25rem;
    color:rgba(0,255,65,.85);
    font-size:1rem;
  }

  /* Corner call-to-action buttons */
  .cta-btn{
    position:absolute;
    top:0.75rem;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    text-decoration:none;
    font-family:"Pacifico","Share Tech Mono",monospace;
    font-weight:400;
    letter-spacing:.02em;
    color:#00FF41;
    border:2px solid #00FF41;
    border-radius:12px;
    padding:.5rem .85rem;
    /* size scales with viewport; stays readable on mobile */
    font-size: clamp(.9rem, 1.6vw, 1.15rem);
    box-shadow:
      0 0 0 1px #00FF41,
      0 0 14px rgba(0,255,65,.35),
      inset 0 0 12px rgba(0,255,65,.08);
    background:linear-gradient(180deg, rgba(0,255,65,.10), rgba(0,255,65,.04));
    transition: transform .15s ease, box-shadow .2s ease;
    z-index:5;
  }
  .cta-btn:hover{
    transform: translateY(-1px);
    box-shadow:
      0 0 0 1px #00FF41,
      0 0 22px rgba(0,255,65,.55),
      inset 0 0 14px rgba(0,255,65,.12);
  }
  .cta-left{ left:.75rem; }
  .cta-right{ right:.75rem; }

  /* Controls (search + rarity) */
  .haw-controls{display:flex;gap:.75rem;flex-wrap:wrap;justify-content:center;margin:0 0 1rem}
  .field{display:flex;align-items:center;gap:.5rem}
  .field label{font-size:.9rem;color:rgba(0,255,65,.85)}
  #q{
    padding:.6rem .75rem;min-width:260px;color:#00FF41;background:#000;
    border:1px solid #00FF41;border-radius:10px;
    box-shadow:inset 0 0 12px rgba(0,255,65,.12),0 0 12px rgba(0,255,65,.18);
  }
  #q::placeholder{color:rgba(0,255,65,.55)}
  #q:focus{
    outline:2px solid #00FF41;outline-offset:2px;
    box-shadow:0 0 18px rgba(0,255,65,.45),inset 0 0 10px rgba(0,255,65,.18);
  }

  .rarity-pills{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center;filter:drop-shadow(0 0 6px rgba(0,255,65,.25))}
  .pill{
    appearance:none;cursor:pointer;font-weight:700;
    padding:.48rem .85rem;border-radius:999px;
    color:#00FF41;background:transparent;border:1px solid #00FF41;
    text-shadow:0 0 6px rgba(0,255,65,.25);
  }
  .pill:hover{box-shadow:0 0 12px rgba(0,255,65,.25)}
  .pill[aria-pressed="true"]{background:#00FF41;color:#001400;box-shadow:0 0 18px rgba(0,255,65,.45)}

  /* Grid */
  .haw-grid{
    display:grid;gap:16px;
    grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
    justify-content:center;justify-items:center;padding:0 1rem;
    transition:opacity .3s ease,transform .3s ease;
    border:1px solid rgba(0,255,65,.15);border-radius:12px;
    background:
      radial-gradient(800px 400px at 50% 10%, rgba(0,255,65,.07), transparent 60%),
      repeating-linear-gradient(to right, rgba(0,255,65,.07) 0 1px, transparent 1px 40px),
      repeating-linear-gradient(to bottom, rgba(0,255,65,.07) 0 1px, transparent 1px 40px);
  }
  @media(max-width:500px){
    .haw-grid{grid-template-columns:1fr}
  }

  /* Card */
  .haw-card{
    position:relative; isolation:isolate;
    perspective:1200px; aspect-ratio:1150/1650; /* exact art aspect */
    margin:0; width:100%;
    transition:transform .25s ease,box-shadow .25s ease;
  }
  .haw-card:hover{transform:translateY(-2px);box-shadow:0 0 22px rgba(0,255,65,.25)}
  @supports not (aspect-ratio:1150/1650){.haw-card::before{content:"";display:block;padding-top:143.478%}}

  /* Neon aura (kept green for brand pulse) */
  .haw-card::after{
    content:"";position:absolute;inset:-6%;
    background:
      radial-gradient(60% 60% at 50% 40%, rgba(0,255,65,.45), transparent 60%),
      radial-gradient(40% 40% at 30% 70%, rgba(0,255,65,.25), transparent 60%);
    filter:blur(14px);z-index:-1;opacity:.6;animation:hawPulse 2.8s ease-in-out infinite;
  }
  @keyframes hawPulse{0%,100%{opacity:.45;transform:scale(.98)}50%{opacity:.75;transform:scale(1.02)}}

  /* Per-card outline (via inline --outline) */
  .haw-card>.inner{
    position:absolute;inset:0;z-index:1;background:#000;border-radius:var(--radius);
    border:1px solid var(--outline, #00FF41);
    box-shadow:
      0 0 0 1px var(--outline, #00FF41),
      0 0 14px color-mix(in srgb, var(--outline, #00FF41) 35%, transparent),
      0 0 32px color-mix(in srgb, var(--outline, #00FF41) 22%, transparent);
    transform-style:preserve-3d;transition:transform .6s ease;
  }
  .haw-card.is-flipped>.inner{transform:rotateY(180deg)}
  @media(prefers-reduced-motion:reduce){.haw-card>.inner{transition:none}}

  .face{position:absolute;inset:0;backface-visibility:hidden;border-radius:var(--radius);overflow:hidden}

  /* FRONT: show full artwork without cropping */
  .face.front{
    display:flex;align-items:center;justify-content:center;background:#000;
  }
  .face.front img{
    width:100%; height:100%;
    object-fit:contain; /* do not crop */
    display:block;
    filter:contrast(1.05) saturate(1.05) drop-shadow(0 0 6px rgba(0,255,65,.12));
    background:#000;
  }
  .haw-card:hover .face.front img{transform:translate(-.25px,.25px)}

  /* BACK: full-bleed printed back image */
  .face.back{
    transform:rotateY(180deg);
    background:#000;
    padding:0;
    display:block;
    box-shadow:inset 0 0 18px rgba(0,255,65,.08)
  }
  .face.back img{
    width:100%; height:100%;
    object-fit:cover;
    display:block;
    border-radius:var(--radius);
  }

  /* Invisible full-card button (on top) */
  .flip-btn{
    position:absolute;inset:0;z-index:3;background:transparent;border:0;cursor:pointer;color:transparent;
  }

  .animate-cards{animation:slideIn .6s ease-out}
  @keyframes slideIn{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}

  .haw-empty{background:#000;color:#00FF41;border:1px dashed rgba(0,255,65,.35)}

  /* Smaller phones: ease the title a bit */
  @media (max-width: 360px){
    .haw-head{ font-size: clamp(2.2rem, 7.2vw + 0.6rem, 3.6rem); }
    .cta-btn{ font-size: clamp(.8rem, 3.4vw, 1rem); padding:.4rem .7rem; }
  }
</style>
</head>

<body>
  <div class="haw-wrap">
    <header class="haw-header">
      <!-- Corner CTAs -->
      <a class="cta-btn cta-left" href="https://vibechain.com/market/have-a-worry?ref=H7QP4C2CD6MD" target="_blank" rel="noopener">Buy Now</a>
      <a class="cta-btn cta-right" href="https://x.com/0xDobbs" target="_blank" rel="noopener">Socials</a>

      <!-- Title & sub -->
      <h1 class="haw-head">Have a Worry!</h1>
      <p class="haw-sub">
        A collectible gallery of modern anxieties. 
        Worry isn’t “good,” but here it’s useful—awareness is the first line of defense.
      </p>

      <!-- Search -->
      <div class="haw-controls" role="search">
        <div class="field">
          <label for="q">Search</label>
          <input id="q" type="search" placeholder="Find a worry…" />
        </div>
      </div>

      <!-- Rarity filter -->
      <div class="rarity-pills" role="group" aria-label="Filter by rarity">
        <button class="pill" data-r="All" aria-pressed="true">All</button>
        <button class="pill" data-r="Mythic" aria-pressed="false">Mythic</button>
        <button class="pill" data-r="Legendary" aria-pressed="false">Legendary</button>
        <button class="pill" data-r="Epic" aria-pressed="false">Epic</button>
        <button class="pill" data-r="Rare" aria-pressed="false">Rare</button>
        <button class="pill" data-r="Common" aria-pressed="false">Common</button>
      </div>
    </header>

    <section class="haw-grid" id="gallery" aria-live="polite"></section>
  </div>

<script>
/* Where images live (Vercel serves /public as site root) */
const IMG_BASE = "/cards/";

/* Per-rarity outline colors */
const OUTLINE_BY_RARITY = {
  Mythic:    "#00F5FF",
  Legendary: "#F8FF00",
  Epic:      "#BB00FF",
  Rare:      "#00B3FF",
  Common:    "#00FF41",
  All:       "#00FF41"
};

/* Card manifest (.webp) — note corrected spellings Homeless/Loneliness */
const CARDS = [
  // Mythic
  { id: 1, 
